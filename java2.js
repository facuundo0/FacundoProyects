const AutosConProblemas = [
    {
        Modelo: "Fiat Cronos ",
        Año: "",
        Imagen: "images/Cronos.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://cronos.fiat.com.ar/assets/ficha.pdf" },
            { texto: "Critica ", enlace: "https://ar.motor1.com/reviews/663466/critica-fiat-cronos-cvt/" },
            { texto: "Pagina Oficial ", enlace: "https://cronos.fiat.com.ar/" },
            { texto: "Mercado libre", enlace: "https://listado.mercadolibre.com.ar/fiat-cronos#D[A:Fiat%20cronos]" },
        ]
    },
    {
        Modelo: "Peugeot 208 ",
        Año: "",
        Imagen: "images/208.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://www.peugeot.com.ar/content/dam/peugeot/argentina/b2c/our-range/nouvelle-208/fichas-tecnicas/Peugeot_Ficha_208_03.pdf" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/480754/critica-peugeot-208-feline-1-6-tiptronic-2021/" },
            { texto: "Pagina oficial", enlace: "https://www.peugeotstore.com.ar/208?utm_source=google-search&utm_medium=search&utm_campaign=AP_AR_AON-PEUGEOT-DIGITAL_VN_208%20ARGENTINA_Launch_MOB_A_le&gad_source=1&gclid=CjwKCAjwxY-3BhAuEiwAu7Y6sycWzahvf3XxXklWQtFcjnQyCZFNU3ZQ5qMZdbx_qzLJ8hD9fRQZVhoCzWsQAvD_BwE&gclsrc=aw.ds" },
            { texto: "Mercado libre", enlace: "https://listado.mercadolibre.com.ar/peugeot-208#D[A:peugeot%20208]" },
        ]

    },
    {
        Modelo: "BMW 330i ",
        Año: "",
        Imagen: "images/330i.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://www.bmw.com.mx/content/dam/bmw/marketMX/bmw_com_mx/Descargas/fichas-tecnicas-2022/enero-2022/serie-3/Ficha%20T%C3%A9cnica%20BMW%20330i%202022.pdf.asset.1640876634179.pdf" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/479092/critica-bmw-330i-sportline/" },
            { texto: "Pagina oficial    ", enlace: "https://bmwautomunich.com.ar/bmw-330i-sport-serie-3/" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/bmw-330i#D[A:BMW%20330i]" },
        ]
    },
    {
        Modelo: "Volkswagen Vento ",
        Año: "",
        Imagen: "images/vento.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://www.volkswagen.com.ar/es/configurador.html/__app/nuevo-vento.app?adchan=sem&country=ar&publisher=google&adpl=consideration&campaign=vento-brand&format=exact&adcr=rsa&seatype=branded&adgroup=inst_%5Bexact%5D_tech&language=ar&adpay=paid&adap=rsa_tech&adchan=sem&campaign=10040925_NC_IMC_PAO_DRW_VWB_VWB_BRD_ARG_NU_SEAH_PSEAC_TEAD_NU_GAD_GADW_CPC_NU_NU_NU_NU_CXD_ES_EX_BRAP_VENTO-BRAND-10086215&adgroup=inst_%5Bexact%5D_tech&publisher=GOOGLE&adcr=vento+especificaciones&adpl=GOOGLE&adlid=71700000037878683&country=AR&language=ES&gad_source=1&gclid=CjwKCAjwxY-3BhAuEiwAu7Y6s6-KLEsA4cKa6NFvD0X3g8H68zTBBEwe3BM7a_iA5AUhYdyx4Y4C9xoCf2QQAvD_BwE&gclsrc=aw.ds&---=%7B%22configuration-step-navigation-service%22%3A%22%2F%3FconfigStep%3D%257B%2522context%2522%253A%2522mofa-standalone%2522%252C%2522selectedStep%2522%253A%2522trim%2522%257D%22%7D" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/681460/critica-vw-vento-gli-2023/" },
            { texto: "Pagina oficial    ", enlace: "https://www.volkswagen.com.ar/es/configurador.html/__app/nuevo-vento.app?adchan=sem&country=ar&publisher=google&adpl=consideration&campaign=vento-brand&format=exact&adcr=rsa&seatype=branded&adgroup=inst_%5Bexact%5D_tech&language=ar&adpay=paid&adap=rsa_tech&adchan=sem&campaign=10040925_NC_IMC_PAO_DRW_VWB_VWB_BRD_ARG_NU_SEAH_PSEAC_TEAD_NU_GAD_GADW_CPC_NU_NU_NU_NU_CXD_ES_EX_BRAP_VENTO-BRAND-10086215&adgroup=inst_%5Bexact%5D_tech&publisher=GOOGLE&adcr=vento+especificaciones&adpl=GOOGLE&adlid=71700000037878683&country=AR&language=ES&gad_source=1&gclid=CjwKCAjwxY-3BhAuEiwAu7Y6s6-KLEsA4cKa6NFvD0X3g8H68zTBBEwe3BM7a_iA5AUhYdyx4Y4C9xoCf2QQAvD_BwE&gclsrc=aw.ds&---=%7B%22configuration-step-navigation-service%22%3A%22%2F%3FconfigStep%3D%257B%2522context%2522%253A%252230901-39851-GLI%2522%252C%2522selectedStep%2522%253A%2522trim%2522%257D%22%7D" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/vento#D[A:vento]" },
        ]
    },
    {
        Modelo: "Chevrolet Cruze ",
        Año: "",
        Imagen: "images/cruze.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://cdn.motor1.com/pdf-files/ficha-tecnica-chevroletr-cruze-sedan-2022.pdf" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/681460/critica-vw-vento-gli-2023/" },
            { texto: "Pagina oficial    ", enlace: "https://ar.motor1.com/reviews/609849/critica-larga-chevrolet-cruze-midnight/" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/cruze#D[A:cruze]" },
        ]
    },
    {
        Modelo: "Toyota Corolla ",
        Año: "",
        Imagen: "images/corolla.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://cdn.motor1.com/pdf-files/ficha-tecnica-toyota-corolla-2022.pdf" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/479965/critica-toyota-corolla-2-0-seg-cvt-2020/" },
            { texto: "Pagina oficial    ", enlace: "https://www.toyota.com.ar/modelos/corolla" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/corolla#D[A:corolla]" },
        ]
    },
    {
        Modelo: "Nissan Tiida ",
        Año: "",
        Imagen: "images/tiida.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://www.km77.com/coches/nissan/tiida/2008/estandar/acenta/tiida-5p-18-acenta2/datos" },
            { texto: "Critica", enlace: "https://www.opinautos.com/ar/nissan/tiida/opiniones" },
            { texto: "Pagina oficial (Descontinuada)   ", enlace: "" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/tiida#D[A:tiida]" },
        ]
    },
    {
        Modelo: "Renault Kangoo II ",
        Año: "",
        Imagen: "images/kangoo.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://www.renault.com.ar/automoviles/kangoo/especificaciones.html" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/708517/critica-larga-duracion-renault-kangoo-express-1mes/" },
            { texto: "Pagina oficial    ", enlace: "https://www.renault.com.ar/automoviles/kangoo.html" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/kangoo#D[A:kangoo]" },
        ]
    },
    {
        Modelo: "Ford Fiesta KD Titanium",
        Año: "",
        Imagen: "images/fiesta.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://www.cochesyconcesionarios.com/fichas/ford/fiesta/76452490001-prestaciones-dimensiones.html" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/471162/critica-ford-fiesta-kd-powershift-sedan-titanium/" },
            { texto: "Pagina oficial    ", enlace: "https://www.ford.com.ar/support/vehicle/fiesta-kinetic/2013/owner-manuals/?gad_source=1&gclid=CjwKCAjwxY-3BhAuEiwAu7Y6syPBGULqraKvTM-DaCZf6OTECvu74sK0q1UQnUWbL1dl8O8UZl7Z0xoCfLwQAvD_BwE" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/ford-fiesta-kd-titanium#D[A:ford%20fiesta%20kd%20titanium]" },
        ]
    },
    {
        Modelo: "Mercedes Benz Clase A ",
        Año: "",
        Imagen: "images/Mercedes claseA.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://www.16valvulas.com.ar/wp-content/uploads/2019/10/Ficha-T%C3%A9cnica.-Clase-A-Sed%C3%A1n.-Vertical.pdf" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/477662/critica-mercedes-benz-clase-a-2018/" },
            { texto: "Pagina oficial    ", enlace: "https://www.mercedes-benz.com.ar/passengercars/models/saloon/a-class/overview.html?gagcmid=GA_20586853415_156834437951_675137195254&gad_source=1&gclid=CjwKCAjwxY-3BhAuEiwAu7Y6s6jIimUnEJR8ewAci7WGX2CO2fT4WBRVfHosq17OGHguEp1DeBKQLxoCf9wQAvD_BwE&gclsrc=aw.ds" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/mercedes-benz-clase-a#D[A:mercedes%20benz%20clase%20a]" },
        ]
    },
    {
        Modelo: "Honda CIvic ",
        Año: "",
        Imagen: "images/civic.png",
        Problemas: [
            { texto: "Ficha tecnica", enlace: "https://autos.honda.com.ar/uploads/modelos/19/fichas_tecnicas/FICHA_T_CNICA__CIVIC.pdf" },
            { texto: "Critica", enlace: "https://ar.motor1.com/reviews/475138/critica-honda-civic-ex-t/" },
            { texto: "Pagina oficial (descontinuada)    ", enlace: "" },
            { texto: "Mercado Libre", enlace: "https://listado.mercadolibre.com.ar/honda-civic" },
        ]
    },

];



function Autos() {
    const listaAutos = document.getElementById(`listaAutos`);

    let contenido = ``;
    let problemas = ``;
    AutosConProblemas.forEach((Auto) => {
        Auto.Problemas.forEach((problema) => {
            problemas += `<p> ${problema}</p>`
        })

        contenido += `<div><div class="Auto1"> <img class="Auto1" src="${Auto.Imagen}"> </div> <div class="ModelosAutos"> <h2>${Auto.Modelo} ${Auto.Año}</h2> <h2>Problemas comunes</h2>${problemas}  </div></div>`;
        problemas = ``;
    });

    listaAutos.innerHTML = contenido;

}


document.addEventListener('DOMContentLoaded', function () {
    // Inicializar los autos al cargar la página
    Autos();

    // Obtener las marcas de autos del menú lateral
    const filtros = document.querySelectorAll('#filtroMarcas a');

    filtros.forEach(filtro => {
        filtro.addEventListener('click', function (event) {
            event.preventDefault();  // Prevenir el comportamiento predeterminado del enlace
            const marcaSeleccionada = event.target.getAttribute('data-marca');
            filtrarAutos(marcaSeleccionada);
        });
    });

    // Botón de reset para restablecer los filtros
    const resetButton = document.getElementById('resetFiltro');
    resetButton.addEventListener('click', function () {
        filtrarAutos('Todos');  // Mostrar todos los autos al restablecer el filtro
    });

    // **Buscar por modelo o problema**
    const searchForm = document.querySelector('.buscador');
    const searchInput = searchForm.querySelector('input[type="search"]');

    searchForm.addEventListener('submit', function (event) {
        event.preventDefault();  // Prevenir la recarga de la página
        const searchTerm = searchInput.value.trim().toLowerCase();
        buscarAutos(searchTerm);  // Filtrar autos por el término de búsqueda
    });
});

// Nueva función para buscar autos por modelo o problema
function buscarAutos(term) {
    const autos = document.querySelectorAll('.autoItem');

    autos.forEach(auto => {
        const modelo = auto.querySelector('h2').textContent.toLowerCase();
        const problemas = auto.querySelector('.ModelosAutos').textContent.toLowerCase();

        // Mostrar el auto si el término de búsqueda coincide con el modelo o algún problema
        if (modelo.includes(term) || problemas.includes(term)) {
            auto.style.display = 'block';
        } else {
            auto.style.display = 'none';
        }
    });
}


function Autos() {
    const listaAutos = document.getElementById('listaAutos');

    let contenido = ``;
    AutosConProblemas.forEach((Auto) => {
        let problemasHTML = Auto.Problemas.map(problema => `<p><a href="${problema.enlace}" target="_blank">${problema.texto}</a></p>`).join('');

        contenido += `<div class="autoItem" data-marca="${Auto.Modelo.split(' ')[0]}"> 
                        <div class="Auto1"> 
                            <img src="${Auto.Imagen}" alt="${Auto.Modelo}">
                        </div> 
                        <div class="ModelosAutos"> 
                            <h2>${Auto.Modelo} ${Auto.Año}</h2> 
                            <h2>Problemas comunes</h2>
                            <ul>${problemasHTML}</ul>
                        </div>
                      </div>`;
    });

    listaAutos.innerHTML = contenido;
}


// Función para filtrar autos por marca
function filtrarAutos(marca) {
    const autos = document.querySelectorAll('.autoItem');

    autos.forEach(auto => {
        if (auto.getAttribute('data-marca') === marca || marca === 'Todos') {
            auto.style.display = 'block';  // Mostrar el auto si coincide con la marca
        } else {
            auto.style.display = 'none';   // Ocultar el auto si no coincide
        }
    });
}

